#N canvas 412 187 583 528 10;
#X obj 29 430 outlet~;
#X obj 441 266 inlet~;
#N canvas 1015 479 526 326 control 0;
#X obj 56 74 min 1;
#X obj 56 96 max 0;
#X obj 56 144 * 5;
#X obj 113 119 t b f;
#X obj 74 178 s \$1/A/delay;
#X obj 56 252 s \$1/B/delay;
#X obj 56 209 * -1;
#X obj 56 231 + 5;
#X obj 114 97 r \$1/delay;
#X obj 56 52 r \$1/pos;
#X text 61 15 delay = delay A + delay B;
#X text 214 78 frequency to delay;
#X text 171 53 split delay in Part A and B;
#X obj 208 96 r \$1/note;
#X obj 208 118 mtof;
#X text 281 95 midi note nr;
#X obj 208 209 / 100;
#X obj 208 165 r \$1/freq;
#X obj 207 239 s \$1/delay;
#X text 55 35 split position 0..1;
#X text 272 188 1000ms/2 since half wavelength;
#X msg 208 187 500 \$1;
#X obj 207 142 s \$1/freq;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 2 0 4 0;
#X connect 2 0 6 0;
#X connect 3 0 2 0;
#X connect 3 1 2 1;
#X connect 3 1 7 1;
#X connect 6 0 7 0;
#X connect 7 0 5 0;
#X connect 8 0 3 0;
#X connect 9 0 0 0;
#X connect 13 0 14 0;
#X connect 14 0 22 0;
#X connect 16 0 18 0;
#X connect 17 0 21 0;
#X connect 21 0 16 0;
#X restore 127 50 pd control;
#X obj 282 430 outlet~;
#X text 391 66 for fine ctl;
#X text 15 13 or pipe;
#X text 44 94 waveguide split to limit excursion of string;
#X text 21 353 --- output at pos in with mic ---;
#X text 23 451 (c) GPL \, acre winfried ritsch;
#X text 280 450 debug monitor inside block~ sub;
#X obj 298 195 inlet~;
#X obj 314 20 r \$1/on;
#X obj 242 63 s \$1/on;
#X obj 243 20 loadbang;
#X msg 243 42 1;
#X obj 375 43 pp set;
#X text 300 180 shape excursion;
#X text 89 328 Feedback Loop: - Damp - WG A - limit - WG B -;
#X text 43 110 simplified reflections with 2 identical damper;
#X text 75 256 excite signal;
#X text 106 37 simple controls;
#X obj 314 64 switch~ 4;
#X obj 375 18 r \$1/block;
#X text 25 161 b;
#X text 154 162 f;
#X text 276 299 f;
#X text 431 299 b;
#X text -10 293 f;
#X text 154 294 b;
#X text 301 159 b;
#X text 414 159 f;
#X text 449 245 excite;
#X obj 9 221 wg/damp/simple~ \$1/damp;
#X obj 356 223 wg/damp/simple~ \$1/damp;
#X obj 30 377 wg/mic/mix~ \$1/mic \$1/A 5 0.2;
#X text 15 0 wg/string/limited~ <id> <maxlength ms>;
#X obj 180 221 wg/shape/limit~ \$1/shape;
#X obj 293 141 wg/wave/out~ \$1/B 3;
#X obj 10 145 wg/wave/out~ \$1/A 2;
#X obj 10 291 wg/wave/in~ \$1/A \$2;
#X obj 291 297 wg/wave/in~ \$1/B \$2;
#X connect 1 0 40 0;
#X connect 1 0 40 1;
#X connect 10 0 36 2;
#X connect 11 0 21 0;
#X connect 13 0 14 0;
#X connect 14 0 12 0;
#X connect 15 0 21 0;
#X connect 22 0 15 0;
#X connect 32 0 39 0;
#X connect 33 0 40 1;
#X connect 34 0 0 0;
#X connect 36 0 40 0;
#X connect 36 1 39 1;
#X connect 37 0 36 1;
#X connect 37 1 33 0;
#X connect 38 0 32 0;
#X connect 38 1 36 0;
